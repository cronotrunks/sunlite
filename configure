#!/bin/sh
#
#
#    This file is part of Sunlite for BitchX.
#
#    Sunlite for BitchX is free software; you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation; either version 2 of the License, or
#    (at your option) any later version.
#
#    Foobar is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with Sunlite for BitchX; if not, write to the Free Software
#    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
################################################################################
#
echo
echo -e "Queste é lo script di configurazione per Sunlite for BitchX"
echo -e "----------------------------------------------------------"
echo -e "Se vuoi modificare cualcosa edita il file di config o questo script di configurazione. Ricorda che si lo riavvivare hai che definire tutte le opzione di nuovo" 
echo

echo -n "Vuoi usare multifinestra (Tre finestre (Status/Query/Prinzipale)? [S/n] "
read Partir
if test "$Partir" == "n" || test "$Partir" == "N"
then Partir=0
else Partir=1
	echo
	echo "Ordina le finestre: (1) Su (2) Centro (3) Sotto"
	echo -n "Dove colloco Status? [1/2/3] [Default=1] "
	read Pos1
	if ! ( test "$Pos1" == "1" || test "$Pos1" == "2" || test "$Pos1" == "3" ) || test "$Pos1" == "" 
	  then Pos1=1
	fi
    echo -n "Dove colloco Querys? [1/2/3] [Default=2] "
    read Pos2
    if ! ( test "$Pos2" == "1" || test "$Pos2" == "2" || test "$Pos2" == "3" ) || test "$Pos2" == "" 
      then if test "$Pos1" == "1" || test "$Pos1" == "3" 
        then Pos2=2
      else Pos2=1
      fi
    else if ( test "$Pos1" == "$Pos2" && test "$Pos1" == "1" )
        then Pos2=2
	elif ( test "$Pos1" == "$Pos2" && test "$Pos1" != "1" )
	  then Pos2=1 
      fi
    fi
    if ( test "$Pos1" == "1" && test "$Pos2" == "2" ) || ( test "$Pos1" == "2" && test "$Pos2" == "1" ) 
      then Pos3=3
    elif ( test "$Pos1" == "2" && test "$Pos2" == "3" ) || ( test "$Pos1" == "3" && test "$Pos2" == "2" ) 
      then Pos3=1
    else Pos3=2
    fi
fi
echo

echo -n "Defini il path dove si trovano i tuoi files di mp3's: [/var/mp3/] "
read Mp3dir
if test "$Mp3dir" == ""
then Mp3dir="/var/mp3/"
fi
echo

echo -n "Vuoi informare agli utenti del channel che musica capisci? [s/N] "
read Notif_mp3
if test "$Notif_mp3" == "s" || test "$Notif_mp3" == "S"
then Notif_mp3=1
else Notif_mp3=0
fi
echo

echo -n "Vuoi che si apra un query di forma automatica quando qualcuno ti envia un messagio? [s/N] "
read WinQuery
if test "$WinQuery" == "s" || test "$WinQuery" == "S"
then WinQuery=1
else WinQuery=0
fi
echo

echo -n "Vuoi usare i colori nello script? [s/N] "
read Color
if test "$Color" == "s" || test "$Color" == "S"
then Color="si"
  echo
  echo -n "Ché theme vuoi usare? [(1) Default (2) BaSS Design] "
  read theme
  if test "$theme" == "bass" || test "$theme" == "BaSS" || test "$theme" == "BaSS Design" || test "$theme" == "bass design" || test "$theme" == "2"
  then theme=bass
  else theme=Default
  fi
else Color="no"
fi
echo

echo -n "Vuoi TimeStamp nei menssagi e querys? [s/N] "
read Hora
if test "$Hora" == "s" || test "$Hora" == "S"
then Hora="[\$Magenta\[\$Amarillo\\\$Z\$Magenta\] ]"
else Hora=""
fi
echo

echo -n "Vuoi attivare lo suono nello script [s/N] "
read Sonido
if test "$Sonido" == "s" || test "$Sonido" == "S"
then Sonido=1
else Sonido=0
fi
echo

# ircha en italiano???
echo -n "Usiamo ircha quando ci chiamano nello channel? [s/N] "
read ircha
if test "$ircha" == "s" || test "$ircha" == "S"
then ircha=1
else ircha=0
fi
echo

echo -n "Nick per away on: "
read nick_awayOn
echo

echo -n "Nick per away off: "
read nick_awayOff
echo

echo -n "Messagio di uscita per default: [Sunlite v1.2 for BitchX] "
read Msg_quit
if test "$Msg_quit" == ""
then Msg_quit="Sunlite v1.2 for BitchX"
fi
echo

echo -n "Messagio di uscita del channel per default : [Sunlite v1.2 for BitchX] "
read Msg_part
if test "$Msg_part" == ""
then Msg_part="Sunlite v1.2 for BitchX"
fi
echo

echo -n "Vorrei usare messagi aleatori di fortune? [s/N]"
read fortune
if test "$fortune" == "s" || test "$fortune" == "S"
then
  fortune=1
  if test -d "/usr/share/games/fortunes/" 
  then for i in `ls /usr/share/games/fortunes/ | grep -v .dat`
     do cat /usr/share/games/fortunes/$i | grep -v "%" | grep -v "\-\-" > ~/.BitchX/BitchX.quit
    done
  fi
  Msg_part=""
else fortune=0
fi
echo

echo -n "Attiviamo autojoin per default? [s/N] "
read Autojoin
if test "$Autojoin" == "s" || test "$Autojoin" == "S"
then 
  Autojoin=1
  echo
  echo -n "Channels che vuoi includere nello Autojoin "
  read Canales_Aj
else Autojoin=0
fi
echo

echo -n "tasti per le Hot-keys? [ctrl/ALT] "
read hotkey 
if test "$hotkey" == "ctrl" || test "$hotkey" == "CTRL"
then hotkey=ctrl
else hotkey=alt
fi
echo

echo -n "Vorrei ignorare i molesti Ctcp's SOUND di qualcuni scripts? [s/N] "
read Ctcp_mp3
if test "$Ctcp_mp3" == "s" || test "$Ctcp_mp3" == "S"
then Ctcp_mp3=1
else Ctcp_mp3=0
fi

if test -f config 
then echo -n "C'è un file di config piú antiquo, sovrascrivere? [s/N] "
  read write
  if test "$write" == "s" || test "$write" == "S"
  then echo -e "@ Partir=$Partir\n@ Pos1=$Pos1\n@ Pos2=$Pos2\n@ Pos3=$Pos3\n@ Mp3dir=[$Mp3dir]\n@ Notif_mp3=$Notif_mp3\n@ WinQuery=$WinQuery\n@ theme=[$theme]\nColor $Color\n@ Hora=$Hora\n@ Sonido=$Sonido\n@ ircha=$ircha\n@ nick_awayOn=[$nick_awayOn]\n@ nick_awayOff=[$nick_awayOff]\n@ Msg_quit=[$Msg_quit]\n@ Msg_part=[$Msg_part]\n@ Autojoin=$Autojoin\n@ Canales_Aj=[$Canales_Aj]\n@ fortune=$fortune\n@ hotkey=[$hotkey]\n@ Ctcp_mp3=$Ctcp_mp3" > config 
  else exit 1 
  fi
else echo -e "@ Partir=$Partir\n@ Pos1=$Pos1\n@ Pos2=$Pos2\n@ Pos3=$Pos3\n@ Mp3dir=[$Mp3dir]\n@ Notif_mp3=$Notif_mp3\n@ WinQuery=$WinQuery\n@ theme=[$theme]\nColor $Color\n@ Hora=$Hora\n@ Sonido=$Sonido\n@ ircha=$ircha\n@ nick_awayOn=[$nick_awayOn]\n@ nick_awayOff=[$nick_awayOff]\n@ Msg_quit=[$Msg_quit]\n@ Msg_part=[$Msg_part]\n@ Autojoin=$Autojoin\n@ Canales_Aj=[$Canales_Aj]\n@ fortune=$fortune\n@ hotkey=[$hotkey]\n@ Ctcp_mp3=$Ctcp_mp3" > config
fi

echo -e "
@ Conferencia = 0
@ snap = 0

set cloak 1
set usermode +i-ws
set status_window ^Attiva^
set status_query 8[15Query: 7%Q8]
set status_hold --più--
set status_notify 8[Parlano: %F]
set realname orion
set flood_protection off
set deop_on_Deopflood 5
set deop_on_kickflood 5
set dcc_autoresume on
set dcc_autoget off
set clock_24hour on
set auto_join_on_invite on
set auto_away on
set auto_Away_time 1800
set mircs on
set beep on
set STATUS_FORMAT 8,2[3 %T 8][15%*%@%=10%N7%#%A8]%M [10%C%+3%W8] 6%Q %H%B%F 8%S
set STATUS_FORMAT1 8,2[3 %T 8][15%*%@%=10%N7%#%A8]%M [10%C%+3%W8] 6%Q %H%B%F 8%S
set STATUS_FORMAT2 8,14Topic 3: 14%-
set STATUS_FORMAT3 8,14Topic 3: 14%-
set STATUS_UMODE 8(10+15%#8)
set STATUS_MODE 8(10+15%+8)
set STATUS_USERS 8[7O/15%! 7N/15%! 7I/15%! 7V/15%! 7F/15%!8]
set STATUS_OPER_KILLS 8[4nk/15%K 4ok/15%K8]
set STATUS_MSGCOUNT 7Aw8[15%^8]
set STATUS_MAIL 8[7Mail: 15%M8]
set STATUS_LAG 8[7Lag 15%L8]
set STATUS_HOLD_LINES 8(15%B8)
set STATUS_CHANNEL 7%C
set INPUT_PROMPT 8,14[4\$C8]7,14 
set MANGLE_LOGFILES ANSI,COLOR,REVERSE,UNDERLINE,BOLD,BLINK
" >> config
